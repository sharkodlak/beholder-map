<!DOCTYPE html>
<html>
<head>
	<title>Eye of the Beholder: Levels</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<script type="module" src="js/Mapper.js"></script>
	<script type="module">
		import { GameMap } from "./js/GameMap.js";
		import { Mapper } from "./js/Mapper.js";

		async function initialize() {
			const maps = {
				"level-01": "maps/level-01.txt",
				"level-02": "maps/level-02.txt",
				"level-03": "maps/level-03.txt",
			};
			for (const [elementId, map] of Object.entries(maps)) {
				loadAndDisplay(map, elementId);
			}
		}

		async function loadAndDisplay(map, elementId) {
			const text = await GameMap.load(map);
			const gameMap = GameMap.parse(text);
			const mapper = new Mapper(gameMap);
			mapper.generateMap(elementId);
		}

		document.addEventListener("DOMContentLoaded", initialize);
	</script>
</head>
<body>
	<h2>Level 01</h2>
	<table id="level-01"></table>

	<h2>Level 02</h2>
	<table id="level-02"></table>

	<h2>Level 03</h2>
	<table id="level-03"></table>
</body>

